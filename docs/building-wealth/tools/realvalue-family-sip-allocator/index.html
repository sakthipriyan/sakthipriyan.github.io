<!DOCTYPE html>
<html lang="en">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>RealValue Family SIP Allocator | Sakthi Priyan H</title>
    <meta name="description" content="Deterministic portfolio rebalancing tool that allocates new investments to minimize drift from target allocation across multiple investors with different constraints."><link rel="stylesheet" href="http://localhost:1313/css/style.css">
    <link rel="stylesheet" href="http://localhost:1313/css/tools.css">
    <script>window.googleAnalyticsId = "G-5NGEJ767SK";</script>
</head>
<body class="building-wealth"><header class="site-header">
    <nav class="main-nav">
        
            
            
            
            
            
            <div class="logo">
                <a href="http://localhost:1313/" class="name-link">Sakthi Priyan H</a>
                <span class="separator"> | </span>
                
                <a href="/building-wealth/" class="name-link">Building Wealth</a>
            </div>
            
            
            <button class="hamburger" aria-label="Toggle navigation" aria-expanded="false">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
            
            <ul class="nav-links">
                
                
                
                
                
                    
                    
                    
                        
                            
                            <li><a href="http://localhost:1313/building-wealth/about/">About</a></li>
                        
                    
                
                    
                    
                    
                        
                            
                            
                                <li><a href="http://localhost:1313/building-wealth/blogs/">Blogs</a></li>
                            
                        
                    
                
                    
                    
                    
                        
                            
                            
                        
                    
                
                    
                    
                    
                        
                            
                            
                                <li><a href="http://localhost:1313/building-wealth/slides/">Slides</a></li>
                            
                        
                    
                
                    
                    
                    
                        
                            
                            
                            
                                
                                    
                                
                            
                            
                                <li><a href="http://localhost:1313/building-wealth/tags/">Tags</a></li>
                            
                        
                    
                
                    
                    
                    
                        
                            
                            
                                <li><a href="http://localhost:1313/building-wealth/tools/">Tools</a></li>
                            
                        
                    
                
                    
                    
                    
                        
                            
                            
                                <li><a href="http://localhost:1313/building-wealth/videos/">Videos</a></li>
                            
                        
                    
                
            </ul>
        
    </nav>
</header>
<nav class="breadcrumb" aria-label="breadcrumb">
    <ol class="breadcrumb-list">
        <li class="breadcrumb-item">
            <a href="http://localhost:1313/">Home</a>
        </li>
            
            
                
                
                
                
                
                
                
                
                <li class="breadcrumb-item">
                    
                        <a href="/building-wealth/">Building Wealth</a>
                    
                </li>
                
                
                
                
                
                    
                    
                        
                        
                        <li class="breadcrumb-item">
                            
                                <a href="/building-wealth/tools/">Tools</a>
                            
                        </li>
                        
                    
                
            
            
            
            
            <li class="breadcrumb-item active" aria-current="page">
                <span>RealValue Family SIP Allocator</span>
            </li>
            
        </ol>
</nav>

    <main>
<article class="tool">
    
<header class="content-header">
    <h1 class="content-title">RealValue Family SIP Allocator</h1>
    <p class="content-summary">Deterministic portfolio rebalancing tool that allocates new investments to minimize drift from target allocation across multiple investors with different constraints.</p>

    <div class="content-meta">
        <span class="meta-item">
            <span class="meta-icon">üìÖ</span>
            <time datetime=" 2026-02-08">Feb 8, 2026</time>
        </span><span class="meta-item">
            <span class="meta-icon">üîß</span>
            <span class="use-time">Interactive Tool</span>
        </span>
    </div>

    <hr class="content-divider">
</header>

    
    
    
    <div class="tool-interface">
        <div id="tool-multiAssetAllocator" class="tool-widget">
            
        </div>
    </div>
    

    <div class="tool-content">
        <h2 id="about-realvalue-family-sip-allocator">About RealValue Family SIP Allocator</h2>
<blockquote>
<p><strong>RealValue Family SIP Allocator</strong> helps you <strong>rebalance your portfolio intelligently</strong> by allocating new investments to underweight assets using a deterministic algorithm that respects investor constraints and minimizes transactions.</p>
</blockquote>
<p>The <strong>RealValue Family SIP Allocator</strong> implements a sophisticated asset-centric allocation strategy that maintains your target asset allocation without selling any holdings. It handles complex scenarios including multiple investors, tax slab constraints, international assets with TCS, and asset group limits.</p>
<h3 id="key-features">Key Features</h3>
<ul>
<li><strong>Deterministic Algorithm</strong>: Asset-centric allocation with priority-based investor selection</li>
<li><strong>Multi-Investor Support</strong>: Handle different investment amounts and constraints per investor</li>
<li><strong>Tax-Efficient</strong>: No selling required ‚Äî rebalancing via new investments only</li>
<li><strong>Slab Rate Assets</strong>: Priority allocation to investors in specific tax slabs</li>
<li><strong>International Assets</strong>: Automatic TCS calculation and tracking</li>
<li><strong>Asset Groups</strong>: Set minimum/maximum allocation limits for asset groups</li>
<li><strong>Transaction Minimization</strong>: Reduces number of transactions by preferring single-investor allocations</li>
<li><strong>Visual Analytics</strong>: Dual charts showing portfolio allocation and drift analysis</li>
<li><strong>Comprehensive Summary</strong>: Quick metrics including transaction count, drift correction, and TCS drag</li>
</ul>
<h3 id="how-it-works">How It Works</h3>
<ol>
<li><strong>Define Investors</strong>: Set investment amounts, international access, and TCS applicability</li>
<li><strong>Configure Assets</strong>: Set target percentages, current values, slab rates, and international flags</li>
<li><strong>Set Asset Groups</strong> (Optional): Define min/max allocation limits for related assets</li>
<li><strong>Calculate Allocation</strong>: The deterministic algorithm allocates investments optimally</li>
<li><strong>Review Results</strong>: See summary metrics, allocation matrix, and visual charts</li>
</ol>
<h3 id="the-allocation-algorithm">The Allocation Algorithm</h3>
<p>The tool uses a <strong>two-phase deterministic allocation engine</strong>:</p>
<p><strong>Phase 1: Asset Allocation Calculation</strong></p>
<ul>
<li>Calculate deviation for each asset: <code>(Target % √ó Portfolio Value) - Current Value</code></li>
<li>Account for TCS budget (1.2√ó multiplier for international assets)</li>
<li>Compute exact allocation per asset based on deviation</li>
</ul>
<p><strong>Phase 2: Investor Assignment</strong></p>
<ul>
<li><strong>Priority Order</strong>: Slab assets ‚Üí Non-international investors ‚Üí Lower tax ‚Üí Smaller capacity</li>
<li><strong>Slab Assets</strong>: Column-first greedy allocation ensuring slab-constrained investors get priority</li>
<li><strong>Non-Slab Assets</strong>: Transaction minimization (80% threshold for single-investor allocation)</li>
<li><strong>Constraints</strong>: Respect asset groups, international access, and rounding requirements</li>
</ul>
<p>This approach:</p>
<ul>
<li>‚úÖ Produces deterministic, repeatable results</li>
<li>‚úÖ Minimizes number of buy transactions</li>
<li>‚úÖ Respects all investor and asset constraints</li>
<li>‚úÖ Automatically handles TCS for international investments</li>
<li>‚úÖ Maintains target allocation over time</li>
</ul>
<h3 id="learn-more">Learn More</h3>
<p>For detailed explanation of the methodology, check out: <a href="/building-wealth/slides/2025/asset-allocation/">My Asset Allocation &amp; Rebalancing</a></p>
<hr>
<h2 id="frequently-asked-questions-faqs">Frequently Asked Questions (FAQs)</h2>
<h3 id="what-makes-this-allocation-deterministic">What makes this allocation &ldquo;deterministic&rdquo;?</h3>
<p>The algorithm follows a strict priority order and always produces the same allocation for the same inputs. This ensures consistency and predictability in your rebalancing strategy.</p>
<h3 id="what-are-slab-rate-assets">What are slab rate assets?</h3>
<p>Assets marked with slab rate are allocated preferentially to investors in specific tax brackets. For example, debt assets might be better suited for investors in lower tax slabs to minimize tax impact.</p>
<h3 id="how-does-transaction-minimization-work">How does transaction minimization work?</h3>
<p>When an asset&rsquo;s allocation can be satisfied by a single investor (‚â•80% of their capacity), the tool allocates the entire amount to that investor, reducing the number of transactions and associated costs.</p>
<h3 id="what-if-all-assets-are-overweight">What if all assets are overweight?</h3>
<p>If all assets are above target (rare), the tool will show zero allocations. In this case, you could either skip investing this month or manually invest in the least overweight asset.</p>
<h3 id="how-is-tcs-calculated-for-international-investments">How is TCS calculated for international investments?</h3>
<p>When an investor has TCS enabled:</p>
<ul>
<li>The tool budgets 1.2√ó the allocation amount (investment + 20% TCS)</li>
<li>Total outflow is rounded to the nearest round-off value</li>
<li>Investment amount is back-calculated: Total √∑ 1.2</li>
<li>TCS = Total - Investment</li>
</ul>
<h3 id="what-are-asset-groups-useful-for">What are asset groups useful for?</h3>
<p>Asset groups let you set allocation limits across related assets. For example, you might want equity (Nifty 50 + Nasdaq 100) to stay between 60-80% total, even if individual assets drift.</p>
<h3 id="can-i-save-my-portfolio-configuration">Can I save my portfolio configuration?</h3>
<p>Yes! Use the &ldquo;Export Data&rdquo; button to save your configuration as JSON. Import it next month to quickly load your settings and only update current values.</p>
<hr>
<h2 id="help">Help</h2>
<h3 id="input-section">Input Section</h3>
<h4 id="investors">Investors</h4>
<ul>
<li><strong>Name</strong>: Investor&rsquo;s name for identification</li>
<li><strong>Amount</strong>: Investment amount available this period</li>
<li><strong>International</strong>: Check if this investor can invest in international assets</li>
<li><strong>TCS</strong>: Applicable if international investment is subject to Tax Collected at Source (20%)</li>
<li><strong>Drag to reorder</strong>: Change investor priority by dragging rows</li>
</ul>
<h4 id="round-off">Round Off</h4>
<ul>
<li>Set the rounding value for allocation amounts</li>
<li>Example: If set to ‚Çπ5,000, all allocations will be multiples of ‚Çπ5,000</li>
<li>For TCS-enabled investors, total outflow (investment + TCS) will be rounded</li>
<li>Higher values = fewer transactions, Lower values = more precise allocation</li>
</ul>
<h4 id="asset-classes">Asset Classes</h4>
<ul>
<li><strong>Asset Class</strong>: Name of the asset (e.g., Nifty 50, Nasdaq 100, Gold)</li>
<li><strong>Target (%)</strong>: Your desired allocation percentage for this asset</li>
<li><strong>Current (Rs)</strong>: Current portfolio value in this asset</li>
<li><strong>Slab Rate</strong>: Check if this asset should prioritize investors in specific tax slabs</li>
<li><strong>International</strong>: Mark for international assets (like Nasdaq 100)</li>
<li><strong>Drag to reorder</strong>: Change asset display order by dragging rows</li>
</ul>
<h4 id="asset-groups-optional">Asset Groups (Optional)</h4>
<ul>
<li><strong>Group Name</strong>: Descriptive name for the group (e.g., &ldquo;Equity&rdquo;, &ldquo;Debt&rdquo;)</li>
<li><strong>Assets</strong>: Select related assets to include in the group</li>
<li><strong>Min %</strong>: Minimum allocation percentage for the group (optional)</li>
<li><strong>Max %</strong>: Maximum allocation percentage for the group (optional)</li>
</ul>
<h3 id="output-section">Output Section</h3>
<h4 id="summary">Summary</h4>
<p>Quick overview of the allocation:</p>
<ul>
<li><strong>Buy Transactions</strong>: Number of asset purchases across all investors</li>
<li><strong>New Allocation</strong>: Percentage of current portfolio being invested</li>
<li><strong>Drift Correction</strong>: Reduction in total absolute drift (Pre - Post)</li>
<li><strong>TCS Drag</strong>: TCS amount as percentage of total outflow (only if TCS applicable)</li>
</ul>
<h4 id="allocation-results">Allocation Results</h4>
<p>Matrix table showing:</p>
<ul>
<li>Rows: Asset classes</li>
<li>Columns: Investors</li>
<li>Values: Allocation amount per investor per asset</li>
<li><strong>Net Total</strong>: Total investment amounts (excluding TCS)</li>
<li><strong>TCS rows</strong>: TCS amounts for international assets (if applicable)</li>
<li><strong>Gross Total</strong>: Total outflow including TCS (if applicable)</li>
</ul>
<h4 id="portfolio-summary-report">Portfolio Summary Report</h4>
<p>Toggle between:</p>
<p><strong>Chart View</strong>:</p>
<ul>
<li><strong>Portfolio Allocation</strong>: Grouped bars showing Pre/Post allocation vs Target (percentage mode only shows Target)</li>
<li><strong>Drift Analysis</strong>: Horizontal bars showing Pre/Post drift for each asset</li>
</ul>
<p><strong>Table View</strong>:</p>
<ul>
<li><strong>Pre Allocation</strong>: Target value, Current value, Actual %, Drift %</li>
<li><strong>Allocation</strong>: New investment amount and percentage</li>
<li><strong>Post Allocation</strong>: Target value, Post value, Actual %, Drift %</li>
<li>Toggle between Percentage and Amount views</li>
</ul>
<h3 id="tips-for-using-the-tool">Tips for Using the Tool</h3>
<ol>
<li><strong>Update Regularly</strong>: Run allocation before each investment period</li>
<li><strong>Maintain Targets</strong>: Ensure target percentages sum to 100%</li>
<li><strong>Review Summary</strong>: Check drift correction to see rebalancing impact</li>
<li><strong>Use Asset Groups</strong>: Set limits for related assets to maintain broader allocation bands</li>
<li><strong>Order Matters</strong>: Drag to reorder investors/assets to influence allocation priority</li>
<li><strong>Export Data</strong>: Save your configuration for next month</li>
<li><strong>Check Charts</strong>: Visual analysis helps quickly identify over/underweight assets</li>
<li><strong>TCS Planning</strong>: Factor in TCS drag when planning international investments</li>
</ol>
<h3 id="example-use-case">Example Use Case</h3>
<p><strong>Portfolio</strong>: ‚Çπ12.5L with 40% target in Nifty 50 (currently ‚Çπ3L = 24%), 30% target in Nasdaq 100 (currently ‚Çπ6L = 48%), 20% in Midcap (‚Çπ2.5L = 20%), 10% in Gold (‚Çπ1L = 8%)</p>
<p><strong>Investors</strong>:</p>
<ul>
<li>Sakthi: ‚Çπ5,35,000 (International + TCS enabled)</li>
<li>Indira: ‚Çπ85,000 (Non-international)</li>
</ul>
<p><strong>Smart Allocation</strong>:</p>
<ul>
<li>Nasdaq is overweight (+18%) ‚Üí ‚Çπ3,04,167 to reduce drift (Sakthi only)</li>
<li>Nifty is underweight (-16%) ‚Üí ‚Çπ45,000 (Sakthi)</li>
<li>Midcap is on target ‚Üí ‚Çπ2,10,000 split between both (‚Çπ1,25,000 Sakthi + ‚Çπ85,000 Indira)</li>
<li>Gold is underweight (-2%) ‚Üí ‚Çπ0 (smaller deviation, not prioritized)</li>
</ul>
<p><strong>Result</strong>:</p>
<ul>
<li>5 buy transactions</li>
<li>Drift correction: 14.27% ‚Üí 12.88% (1.39% improvement)</li>
<li>TCS drag: 10.13% (due to international investments)</li>
</ul>
<hr>
<h2 id="technical-details">Technical Details</h2>
<h3 id="allocation-algorithm">Allocation Algorithm</h3>
<p><strong>Phase 1: Asset Allocation</strong></p>
<pre><code>For each asset:
  targetValue = (targetPercent / 100) √ó postTotal
  deviation = targetValue - currentValue
  
  If asset is international and has TCS:
    allocate from TCS budget (1.2√ó multiplier)
  
  allocation = max(0, deviation)
</code></pre>
<p><strong>Phase 2: Investor Assignment</strong></p>
<pre><code>Priority order:
  1. Slab assets first (column-first greedy)
  2. Non-slab assets (transaction minimization)
  
For each asset:
  Sort investors by:
    - Non-international first (for non-intl assets)
    - Lower max capacity
    - UI order
  
  If single investor can take ‚â•80%:
    Assign entire amount to that investor
  Else:
    Distribute across investors proportionally
</code></pre>
<h3 id="constraints-handled">Constraints Handled</h3>
<ol>
<li><strong>Asset Groups</strong>: Min/max allocation limits enforced</li>
<li><strong>Slab Rates</strong>: Priority allocation to appropriate investors</li>
<li><strong>International Access</strong>: Only eligible investors can buy international assets</li>
<li><strong>TCS Calculation</strong>: Automatic 20% TCS for applicable investors</li>
<li><strong>Rounding</strong>: Total outflow (investment + TCS) rounded to round-off value</li>
<li><strong>Single Asset Per Group</strong>: Each asset can only belong to one group</li>
<li><strong>Transaction Minimization</strong>: Prefer single-investor allocations when possible</li>
</ol>
<hr>
<blockquote>
<p><strong>Remember</strong>: Asset allocation is personal. This tool implements a sophisticated methodology, but adjust based on your comfort, goals, risk tolerance, and market conditions.</p>
</blockquote>

    </div>

    

    
<footer class="content-footer">
    <hr class="content-divider">
    
    
    <div class="card-tags">
        <span class="tags-icon">üè∑Ô∏è</span>
        
        <a href="http://localhost:1313/building-wealth/tags/asset-allocation/" class="tag-link">Asset Allocation</a>
        
        <a href="http://localhost:1313/building-wealth/tags/rebalancing/" class="tag-link">Rebalancing</a>
        
        <a href="http://localhost:1313/building-wealth/tags/portfolio-management/" class="tag-link">Portfolio Management</a>
    </div><div class="content-comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = 'sakthipriyan';
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by
                Disqus.</a></noscript>
    </div>
</footer>
</article>

    </main><footer class="site-footer">
    <p>&copy; 2026 Sakthi Priyan H. Built with Hugo and Continuum theme.</p>
</footer>
        
        
        
        
        
        
        
        
        
        
        
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>

<script src="http://localhost:1313/js/multi-asset-allocator.js"></script>

<script>
    
    document.addEventListener('DOMContentLoaded', function () {
        const toolType = 'multiAssetAllocator';
        const toolContainer = document.getElementById('tool-' + toolType);

        if (window.initializeTool && typeof window.initializeTool[toolType] === 'function') {
            window.initializeTool[toolType](toolContainer, "null");
        }
    });
</script>

<script>
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.querySelector('.hamburger');
            const navLinks = document.querySelector('.nav-links');
            
            console.log('Hamburger menu initialized', { hamburger, navLinks });
            
            if (hamburger && navLinks) {
                
                const overlay = document.createElement('div');
                overlay.className = 'nav-overlay';
                document.body.appendChild(overlay);
                
                console.log('Overlay created and added to body');
                
                
                hamburger.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    hamburger.classList.toggle('active');
                    navLinks.classList.toggle('active');
                    overlay.classList.toggle('active');
                    
                    
                    const isExpanded = hamburger.classList.contains('active');
                    hamburger.setAttribute('aria-expanded', isExpanded);
                    
                    
                    document.body.style.overflow = isExpanded ? 'hidden' : '';
                    
                    console.log('Menu toggled', { isExpanded });
                });
                
                
                overlay.addEventListener('click', function() {
                    console.log('Overlay clicked - closing menu');
                    hamburger.classList.remove('active');
                    navLinks.classList.remove('active');
                    overlay.classList.remove('active');
                    hamburger.setAttribute('aria-expanded', 'false');
                    document.body.style.overflow = '';
                });
                
                
                const navLinksElements = navLinks.querySelectorAll('a');
                console.log('Found nav links:', navLinksElements.length);
                
                navLinksElements.forEach(link => {
                    link.addEventListener('click', function(e) {
                        console.log('Link clicked:', link.href);
                        
                        
                        hamburger.classList.remove('active');
                        navLinks.classList.remove('active');
                        overlay.classList.remove('active');
                        hamburger.setAttribute('aria-expanded', 'false');
                        document.body.style.overflow = '';
                    });
                });
                
                
                window.addEventListener('resize', function() {
                    if (window.innerWidth > 768 && hamburger.classList.contains('active')) {
                        console.log('Window resized - closing menu');
                        hamburger.classList.remove('active');
                        navLinks.classList.remove('active');
                        overlay.classList.remove('active');
                        hamburger.setAttribute('aria-expanded', 'false');
                        document.body.style.overflow = '';
                    }
                });
            } else {
                console.warn('Hamburger menu elements not found');
            }
        });
    </script>
    <script src="http://localhost:1313/js/main.js"></script>
</body>
</html>